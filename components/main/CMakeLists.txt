set(GENERATED_DIR "${CMAKE_CURRENT_SOURCE_DIR}/include")

# Note: web_index.h is pre-generated by: python tools/embed_web.py components/main/web/index.html components/main/include/web_index.h
# This avoids CMake scriptability issues with newer CMake versions

# Register component and include directory for pre-generated headers
idf_component_register(SRCS "ota.c" "events.c" "app_main.c" "as3935_adapter.c" "web_files.c" "settings.c" "mqtt_client.c" "wifi_prov.c" "http_helpers.c"
                       INCLUDE_DIRS "include"
                       REQUIRES
                          mqtt
                          driver
                          esp_driver_i2c
                          esp_driver_gpio
                          esp_driver_uart
                          esp_driver_usb_serial_jtag
                          esp_wifi
                          esp_netif
                          esp_http_server
                          esp_http_client
                          nvs_flash
                          esp_event
                          lwip
                          app_update
                          cjson_shim
                          esp_as3935)
